require("dotenv").config();
const axios = require("axios");

const express = require("express");
const cors = require("cors");
const app = express();

const { TelegramClient } = require("telegram");
const { StringSession } = require("telegram/sessions");
const { NewMessage } = require("telegram/events/index.js");

const API_ID = +process.env.API_ID;
const API_HASH = process.env.API_HASH;
const SESSION = process.env.SESSION;

app.use(cors({ methods: ["GET", "POST"] }));
app.use(express.json());

async function startApp() {
  try {
    const stringSession = new StringSession(SESSION);
    const client = new TelegramClient(stringSession, API_ID, API_HASH, {
      connectionRetries: 5,
    });
    console.log("‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞!");

    await client.start();

    async function findChannel() {
      const dialogs = await client.getDialogs();

      const chat_slay = dialogs.find((chat) => chat.name === "42 FanLab Chat");
      console.log(chat_slay);
    }

    //await findChannel();
    // vexed  {chat:-1003250534097, channel: 2769199478}

    const commentGroupsId = [ {chat: -1002398372400, channel: 2106543498}, { chat: -1003299332773, channel: 3183906489 }];

    commentGroupsId.forEach(async (item) => {
      await runNotifucation(item);
    });

    async function runNotifucation(commentGroupId) {
      client.addEventHandler(async (event) => {
        const message = event.message;
       

        if (Number(message.chatId.valueOf()) !== commentGroupId.chat) return;

        if (message.fwdFrom && message.fwdFrom.channelPost &&
          message.fwdFrom.fromId.className === "PeerChannel" &&
          Number(message.fwdFrom.fromId.channelId) === commentGroupId.channel) {
          console.log("üÜï –ù–æ–≤—ã–π –ø–æ—Å—Ç –∏–∑ –∫–∞–Ω–∞–ª–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω!");

          const photos = [
            "https://i.ibb.co/PvWMxRhF/5opka-1.jpg",
            "https://i.ibb.co/hr8tr8X/5opka-2.jpg",
            "https://i.ibb.co/1fLnBTsG/5opka-3.jpg",
            "https://i.ibb.co/x8sJzZN6/5opka-5.jpg",
            "https://i.ibb.co/BKrYxcnW/5opka-6.jpg",
            "https://i.ibb.co/Y4sz4NR5/5opka-7.jpg",
            "https://i.ibb.co/B2hN7qTt/5opka-8.jpg",
            "https://i.ibb.co/B532hrMC/5opka-9.jpg",
            "https://i.ibb.co/s9pySMkx/5opka-10.jpg",
            "https://i.ibb.co/dwz4yTr5/5opka-11.jpg",
            "https://i.ibb.co/8ndj3KcR/5opka-12.jpg",
            "https://i.ibb.co/TqBB296G/5opka-13.jpg"
          ];
          const comments = [
            "–Ø –±—ã–ª —Ñ–∞–Ω–∞—Ç–æ–º –°–∞—Å–∞–≤–æ—Ç–∞, —É–≤–∞–∂–∞–ª –µ–≥–æ —Å—Ç—Ä–∏–º—ã –∏ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É, –Ω–æ –≤ —ç—Ç–æ–º –≥–æ–¥—É –¥–∞–∂–µ —è –ø—Ä–∏–∑–Ω–∞—é ‚Äî –ü—è—Ç—ë—Ä–∫–∞ —Ä–µ–∞–ª—å–Ω–æ –∑–∞—Å–ª—É–∂–∏–ª Slay King 2025.",
            "–í—Å–µ–≥–¥–∞ —Å—á–∏—Ç–∞–ª –ì–ª–µ–±–∞ —ç—Ç–∞–ª–æ–Ω–æ–º —Å—Ç—Ä–∏–º–∏–Ω–≥–∞, –Ω–æ –∫–æ–Ω—Ç–µ–Ω—Ç –ü—è—Ç—ë—Ä–∫–∏ –≤ —ç—Ç–æ–º –≥–æ–¥—É –ø—Ä–æ—Å—Ç–æ –Ω–µ —Å—Ä–∞–≤–Ω–∏—Ç—å. –û–Ω –∑–∞—Å–ª—É–∂–∏–ª –Ω–∞–≥—Ä–∞–¥—É –ø–æ-—á–µ—Å—Ç–Ω–æ–º—É.",
            "–°–º–æ—Ç—Ä–µ–ª –°–∞—Å–∞–≤–æ—Ç–∞ —Å —É–≤–∞–∂–µ–Ω–∏–µ–º, –Ω–æ –∫–æ–≥–¥–∞ —É–≤–∏–¥–µ–ª, —Å–∫–æ–ª—å–∫–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤—ã–¥–∞–ª 5opka ‚Äî –ø–æ–Ω—è–ª, —á—Ç–æ –≤ Slay 2025 –≥–æ–ª–æ—Å—É—é –∑–∞ –Ω–µ–≥–æ.",
            "–Ø —Ñ–∞–Ω–∞—Ç –°–∞—Å–∞–≤–æ—Ç–∞, –Ω–æ –æ–±—ä–µ–∫—Ç–∏–≤–Ω–æ ‚Äî –ü—è—Ç—ë—Ä–∫–∞ —Å–¥–µ–ª–∞–ª –≥–æ–¥. –ë–µ–∑ –∑–∞–≤–∏—Å—Ç–∏, –±–µ–∑ —à—É–º–∞, –ø—Ä–æ—Å—Ç–æ —Ñ–∞–∫—Ç: –æ–Ω –∑–∞—Å–ª—É–∂–∏–ª –±—ã—Ç—å Slay King.",
            "–ì–ª–µ–± –∫—Ä—É—Ç–æ–π, –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –ª–µ–≥–µ–Ω–¥–æ–π. –ù–æ –≤ —ç—Ç–æ–º –≥–æ–¥—É –¥–∞–∂–µ —Å—Ç–∞—Ä—ã–µ —Ñ–∞–Ω–∞—Ç—ã –ø–æ–Ω–∏–º–∞—é—Ç ‚Äî 5opka —Ä–µ–∞–ª—å–Ω–æ –∑–∞—Ç–∞—â–∏–ª.",
            "–°–∞—Å–∞–≤–æ—Ç –¥–∞–ª –º–Ω–µ –∫—É—á—É —ç–º–æ—Ü–∏–π, –Ω–æ –ü—è—Ç—ë—Ä–∫–∞ –≤–µ—Ä–Ω—É–ª —Ç–æ —á—É–≤—Å—Ç–≤–æ, –∫–æ–≥–¥–∞ –¢–≤–∏—á —Å–Ω–æ–≤–∞ –∂–∏–≤–æ–π. –ü–æ—ç—Ç–æ–º—É —è –≥–æ–ª–æ—Å—É—é –∑–∞ –Ω–µ–≥–æ.",
            "–Ø —É–≤–∞–∂–∞—é –°–∞—Å–∞–≤–æ—Ç–∞, –Ω–æ –æ—Ç—Ä–∏—Ü–∞—Ç—å, —á—Ç–æ –ü—è—Ç—ë—Ä–∫–∞ —Å–¥–µ–ª–∞–ª –Ω–µ—Ä–µ–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç ‚Äî –ø—Ä–æ—Å—Ç–æ –Ω–µ—á–µ—Å—Ç–Ω–æ. –≠—Ç–æ—Ç –≥–æ–¥ –µ–≥–æ.",
            "–ù–µ —Å–ø–æ—Ä—é, –ì–ª–µ–± —Ç–æ–ø, –Ω–æ –≤ 2025 –∏–º–µ–Ω–Ω–æ –ü—è—Ç—ë—Ä–∫–∞ –≤ —Ñ–æ—Ä–º–µ, –≤ –ø—Ä–∞–π–º–µ –∏ –Ω–∞ –≤–µ—Ä—à–∏–Ω–µ. Slay King –ø–æ –¥–µ–ª—É.",
            "–°–º–æ—Ç—Ä–µ–ª –°–∞—Å–∞–≤–æ—Ç–∞, –∫–∞–π—Ñ–æ–≤–∞–ª –æ—Ç –≤–∞–π–±–∞, –Ω–æ 5opka –≤—ã–¥–∞–ª —Ç–∞–∫—É—é —ç–Ω–µ—Ä–≥–∏—é, —á—Ç–æ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å –µ–≥–æ –ø—Ä–æ—Å—Ç–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ.",
            "–Ø –±—ã–ª —É–≤–µ—Ä–µ–Ω, —á—Ç–æ –ì–ª–µ–± —Å–Ω–æ–≤–∞ –≤–æ–∑—å–º—ë—Ç –ø—Ä–µ–º–∏—é, –Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ–ª –Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç –ü—è—Ç—ë—Ä–∫–∏ ‚Äî –∏ –ø–æ–Ω—è–ª, –∑–∞ –∫–æ–≥–æ —Ä–µ–∞–ª—å–Ω–æ –Ω–∞–¥–æ –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å.",
            "–§–∞–Ω–∞—Ç–µ–ª –æ—Ç –°–∞—Å–∞–≤–æ—Ç–∞, –Ω–µ –≤—Ä—É. –ù–æ —ç—Ç–æ—Ç –≥–æ–¥ –≤–µ—Å—å –ø—Ä–æ 5opka ‚Äî –æ–Ω –∂–∏–≤—ë—Ç –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º –∏ –¥–≤–∏–∂–æ–º, —ç—Ç–æ —á—É–≤—Å—Ç–≤—É–µ—Ç—Å—è –≤ –∫–∞–∂–¥–æ–º —Å—Ç—Ä–∏–º–µ.",
            "–°–∞—Å–∞–≤–æ—Ç —É–∂–µ –Ω–µ —Ç–æ—Ç, —á—Ç–æ —Ä–∞–Ω—å—à–µ, –Ω–æ —É–≤–∞–∂–µ–Ω–∏–µ –æ—Å—Ç–∞–ª–æ—Å—å. –ü—Ä–æ—Å—Ç–æ —Å–µ–π—á–∞—Å –≤—Ä–µ–º—è –ü—è—Ç—ë—Ä–∫–∏ ‚Äî –æ–Ω —Ä–µ–∞–ª—å–Ω–æ –≤ —Å–≤–æ—ë–º –ø—Ä–∞–π–º–µ.",
            "–Ø –Ω–µ –∏–∑ —Ç–µ—Ö, –∫—Ç–æ –ø–µ—Ä–µ–æ–±—É–≤–∞–µ—Ç—Å—è, –ø—Ä–æ—Å—Ç–æ —Ñ–∞–∫—Ç—ã –≥–æ–≤–æ—Ä—è—Ç —Å–∞–º–∏ –∑–∞ —Å–µ–±—è. 5opka –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—Ç Slay King 2025.",
            "–ì–ª–µ–± ‚Äî –∫–ª–∞—Å—Å–∏–∫–∞, –Ω–æ –≤ —ç—Ç–æ–º –≥–æ–¥—É –≤—Å–µ –¥–æ—Ä–æ–≥–∏ –≤–µ–¥—É—Ç –∫ –ü—è—Ç—ë—Ä–∫–µ. –ö–æ–Ω—Ç–µ–Ω—Ç, –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞, —ç–Ω–µ—Ä–≥–∏—è ‚Äî –≤—Å—ë –Ω–∞ —É—Ä–æ–≤–Ω–µ.",
            "–Ø –¥–æ–ª–≥–æ —Å–ø–æ—Ä–∏–ª —Å –¥—Ä—É–∑—å—è–º–∏, –Ω–æ –∫–æ–≥–¥–∞ —É–≤–∏–¥–µ–ª, —Å–∫–æ–ª—å–∫–æ –¥–≤–∏–∂—É—Ö —Å–¥–µ–ª–∞–ª 5opka, –ø–æ–Ω—è–ª: —Å–ø–æ—Ä–∏—Ç—å –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω–æ. –û–Ω –¥–æ—Å—Ç–æ–∏–Ω.",
            "–°–º–æ—Ç—Ä—é –°–∞—Å–∞–≤–æ—Ç–∞ —Å 2020, —É–≤–∞–∂–∞–ª –µ–≥–æ —Å—Ç–∏–ª—å, –Ω–æ —Å–µ–π—á–∞—Å —á—É–≤—Å—Ç–≤—É—é ‚Äî –ü—è—Ç—ë—Ä–∫–∞ —Ä–µ–∞–ª—å–Ω–æ –ª–∏–¥–µ—Ä. –û–Ω –∑–∞—Å–ª—É–∂–∏–ª –∫–æ—Ä–æ–Ω—É Slay.",
            "–î–∞–∂–µ –∫–∞–∫ —Ñ–∞–Ω–∞—Ç –°–∞—Å–∞–≤–æ—Ç–∞ –Ω–µ –º–æ–≥—É –æ—Ç—Ä–∏—Ü–∞—Ç—å: 5opka —Å–¥–µ–ª–∞–ª —Ç–æ, —á—Ç–æ –Ω–∏–∫—Ç–æ –Ω–µ –ø–æ–≤—Ç–æ—Ä–∏–ª. –≠—Ç–æ —É—Ä–æ–≤–µ–Ω—å Slay King.",
            "–°–∞—Å–∞–≤–æ—Ç –¥–∞–ª –º–Ω–æ–≥–æ–µ, –Ω–æ —Ç–µ–ø–µ—Ä—å –≤—Ä–µ–º—è –Ω–æ–≤—ã—Ö –≥–µ—Ä–æ–µ–≤. –ü—è—Ç—ë—Ä–∫–∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å—Ç—Ä–∏–º–µ—Ä ‚Äî –æ–Ω –¥–µ–ª–∞–µ—Ç –∫—É–ª—å—Ç—É—Ä—É.",
            "–°–Ω–∞—á–∞–ª–∞ –Ω–µ —Ö–æ—Ç–µ–ª –ø—Ä–∏–∑–Ω–∞–≤–∞—Ç—å, –Ω–æ –ø–æ—Å–ª–µ —Å—Ç—Ä–∏–º–æ–≤ 5opka –ø–æ–Ω—è–ª ‚Äî —ç—Ç–æ –∑–∞—Å–ª—É–∂–µ–Ω–Ω–∞—è –ø–æ–±–µ–¥–∞. –û–Ω —Ä–µ–∞–ª—å–Ω–æ –≤ —Å–≤–æ—ë–º –ø—Ä–∞–π–º–µ.",
            "–Ø —Å —É–≤–∞–∂–µ–Ω–∏–µ–º –æ—Ç–Ω–æ—à—É—Å—å –∫ –ì–ª–µ–±—É, –Ω–æ —ç—Ç–æ—Ç –≥–æ–¥ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞ –ü—è—Ç—ë—Ä–∫–æ–π. –¢–∞–∫–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–µ–ª—å–∑—è –Ω–µ –æ—Ç–º–µ—Ç–∏—Ç—å.",
            "–ü—è—Ç—ë—Ä–∫–∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ö–∞–π–ø–∏—Ç ‚Äî –æ–Ω —Ç–∞—â–∏—Ç –≤–µ—Å—å Twitch. –î–∞–∂–µ —Ñ–∞–Ω–∞—Ç—ã –°–∞—Å–∞–≤–æ—Ç–∞ —ç—Ç–æ –≤–∏–¥—è—Ç –∏ —É–≤–∞–∂–∞—é—Ç.",
            "–†–∞–Ω—å—à–µ —è —Å–ø–æ—Ä–∏–ª, —á—Ç–æ –°–∞—Å–∞–≤–æ—Ç –ª—É—á—à–∏–π. –¢–µ–ø–µ—Ä—å —Å–ø–æ—Ä–∏—Ç—å –Ω–µ –æ —á–µ–º ‚Äî 5opka —Å–¥–µ–ª–∞–ª –≥–æ–¥, —Å–¥–µ–ª–∞–ª –∞—Ç–º–æ—Å—Ñ–µ—Ä—É, —Å–¥–µ–ª–∞–ª –∏—Å—Ç–æ—Ä–∏—é.",
            "–°–º–æ—Ç—Ä—é –Ω–∞ –≤—Å—ë —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –∏ –ø–æ–Ω–∏–º–∞—é: –ì–ª–µ–± –∫—Ä—É—Ç, –Ω–æ –ü—è—Ç—ë—Ä–∫–∞ —Å–¥–µ–ª–∞–ª —Ä–µ–∞–ª—å–Ω–æ –±–æ–ª—å—à–µ. –û–Ω –∑–∞—Å–ª—É–∂–∏–ª –∫–∞–∂–¥—É—é –Ω–æ–º–∏–Ω–∞—Ü–∏—é.",
            "–Ø –≤—Å–µ–≥–¥–∞ —Ç–æ–ø–∏–ª –∑–∞ –ì–ª–µ–±–∞, –Ω–æ –¥–∞–∂–µ –æ–Ω –±—ã –ø—Ä–∏–∑–Ω–∞–ª, —á—Ç–æ 5opka –∑–∞—Å–ª—É–∂–∏–ª Slay King –≤ —ç—Ç–æ–º –≥–æ–¥—É.",
            "–°–∞—Å–∞–≤–æ—Ç –¥–∞–ª –∫–ª–∞—Å—Å–Ω—ã–π –≤–∞–π–±, –Ω–æ —Å–µ–π—á–∞—Å —ç—Ç–æ—Ç –≤–∞–π–± —É 5opka. –ò —ç—Ç–æ —á—É–≤—Å—Ç–≤—É–µ—Ç—Å—è –∫–∞–∂–¥—ã–º —Ñ—É–≥–æ–±–æ—Ç–æ–º.",
            "–ü—è—Ç—ë—Ä–∫–∞ –≤ –ø—Ä–∞–π–º–µ, –∏ —ç—Ç–æ –≤–∏–¥–Ω–æ –ø–æ –∫–∞–∂–¥–æ–º—É —Å—Ç—Ä–∏–º—É. –û–Ω —Ä–µ–∞–ª—å–Ω–æ –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—Ç –±—ã—Ç—å –∫–æ—Ä–æ–ª—ë–º Slay 2025.",
            "–Ø —Å —É–≤–∞–∂–µ–Ω–∏–µ–º –∫ –°–∞—Å–∞–≤–æ—Ç—É, –Ω–æ –¥–∞–∂–µ —Å–∞–º—ã–µ –ø—Ä–µ–¥–∞–Ω–Ω—ã–µ —Ñ–∞–Ω–∞—Ç—ã –≤–∏–¥—è—Ç, —á—Ç–æ —Å–µ–π—á–∞—Å –≥–æ–¥ –ü—è—Ç—ë—Ä–∫–∏.",
            "–†–∞–Ω—å—à–µ —è –±—ã —Å–ø–æ—Ä–∏–ª, –Ω–æ —Ç–µ–ø–µ—Ä—å –Ω–µ –≤–∏–∂—É —Å–º—ã—Å–ª–∞. –ü—è—Ç—ë—Ä–∫–∞ —Ä–µ–∞–ª—å–Ω–æ —Å–¥–µ–ª–∞–ª –≤—Å—ë, —á—Ç–æ–±—ã —Å—Ç–∞—Ç—å Slay King 2025.",
            "–ì–ª–µ–± –¥–∞–ª –∫–ª–∞—Å—Å–Ω—É—é —à–∫–æ–ª—É —Å—Ç—Ä–∏–º–∏–Ω–≥–∞, –Ω–æ 5opka –≤–∑—è–ª —ç—Å—Ç–∞—Ñ–µ—Ç—É –∏ –≤—ã–≤–µ–ª —ç—Ç–æ –Ω–∞ –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å.",
            "–Ø –Ω–µ —Ö–µ–π—á—É –°–∞—Å–∞–≤–æ—Ç–∞, –ø—Ä–æ—Å—Ç–æ –≤—Ä–µ–º—è –º–µ–Ω—è–µ—Ç—Å—è. –ê –ü—è—Ç—ë—Ä–∫–∞ –≤ —ç—Ç–æ–º –≥–æ–¥—É —Ä–µ–∞–ª—å–Ω–æ —Ç–∞—â–∏—Ç Twitch –Ω–∞ —Å–µ–±–µ.",
            "–î–∞–∂–µ –µ—Å–ª–∏ –±–æ–ª–µ–µ—à—å –∑–∞ –ì–ª–µ–±–∞, –Ω–µ–ª—å–∑—è –Ω–µ –ø—Ä–∏–∑–Ω–∞—Ç—å ‚Äî –ü—è—Ç—ë—Ä–∫–∞ –∑–∞—Å–ª—É–∂–∏–ª —É–≤–∞–∂–µ–Ω–∏–µ –≤—Å–µ–π —Å—Ü–µ–Ω—ã.",
            "–°–º–æ—Ç—Ä—é –°–∞—Å–∞–≤–æ—Ç–∞ ‚Äî –Ω–æ—Å—Ç–∞–ª—å–≥–∏—è. –°–º–æ—Ç—Ä—é –ü—è—Ç—ë—Ä–∫—É ‚Äî –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ. –†–∞–∑–Ω–∏—Ü–∞ –æ–≥—Ä–æ–º–Ω–∞—è.",
            "–°–∞—Å–∞–≤–æ—Ç –±—ã–ª –ª–∏—Ü–æ–º Twitch, –Ω–æ —Ç–µ–ø–µ—Ä—å –ª–∏—Ü–æ –æ–¥–Ω–æ ‚Äî 5opka, –≤ –ø—Ä–∞–π–º–µ, –≤ –ø–æ—Ç–æ–∫–µ, –≤ –¥–≤–∏–∂–µ–Ω–∏–∏.",
            "–Ø –≤—Å–µ–≥–¥–∞ —É–≤–∞–∂–∞–ª –ì–ª–µ–±–∞, –Ω–æ —ç—Ç–æ—Ç –≥–æ–¥ —Å–¥–µ–ª–∞–ª –ü—è—Ç—ë—Ä–∫—É —Å–∏–º–≤–æ–ª–æ–º —Ä—É-—Å—Ç—Ä–∏–º–∏–Ω–≥–∞. –≠—Ç–æ —á–µ—Å—Ç–Ω–æ.",
            "–°–∞—Å–∞–≤–æ—Ç –Ω–µ–º–Ω–æ–≥–æ –ø–æ—Ç–µ—Ä—è–ª —Ç–µ–º–ø, –∞ 5opka –Ω–∞–æ–±–æ—Ä–æ—Ç ‚Äî —Ä–∞–∑–æ–≥–Ω–∞–ª—Å—è. –°–µ–π—á–∞—Å –æ–Ω –≤ –ø—Ä–∞–π–º–µ –∏ –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—Ç –≤—Å—ë.",
            "–ü—è—Ç—ë—Ä–∫–∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å—Ç—Ä–∏–º–∏—Ç ‚Äî –æ–Ω –∂–∏–≤—ë—Ç —ç—Ç–∏–º. –î–∞–∂–µ —è, —Ñ–∞–Ω–∞—Ç –°–∞—Å–∞–≤–æ—Ç–∞, —ç—Ç–æ –ø—Ä–∏–∑–Ω–∞—é.",
            "–Ø –Ω–µ –æ–∂–∏–¥–∞–ª, —á—Ç–æ —Å–∫–∞–∂—É —ç—Ç–æ, –Ω–æ 5opka —Ä–µ–∞–ª—å–Ω–æ –ª—É—á—à–∏–π –≤ —ç—Ç–æ–º –≥–æ–¥—É. –ì–ª–µ–± –∫—Ä—É—Ç, –Ω–æ –±–æ—Å—Å –∑–∞—Ç–∞—â–∏–ª.",
            "–°–º–æ—Ç—Ä–µ–ª –ì–ª–µ–±–∞ —Å —É–≤–∞–∂–µ–Ω–∏–µ–º, –Ω–æ —Ç–µ–ø–µ—Ä—å –ª–æ–≤–ª—é –∫–∞–π—Ñ —É –ü—è—Ç—ë—Ä–∫–∏. –û–Ω –≤ —Ñ–æ—Ä–º–µ, –≤ –ø—Ä–∞–π–º–µ, –≤ –ª–µ–≥–µ–Ω–¥–µ.",
            "–†–∞–Ω—å—à–µ –±—ã —Å–ø–æ—Ä–∏–ª, —Å–µ–π—á–∞—Å –ø—Ä–æ—Å—Ç–æ –∞–ø–ª–æ–¥–∏—Ä—É—é. 5opka —Å–¥–µ–ª–∞–ª –≤—Å—ë, —á—Ç–æ–±—ã —Å—Ç–∞—Ç—å Slay King 2025.",
            "–î–∞–∂–µ –ú–∞–ª–∏–∫–æ–≤, –∫–∞–∂–µ—Ç—Å—è, —á—É–≤—Å—Ç–≤—É–µ—Ç —ç—Ç–æ—Ç –≤–∞–π–±. –ü—è—Ç—ë—Ä–∫–∞ –≤ –ø—Ä–∞–π–º–µ, –∏ —ç—Ç–æ —É–∂–µ –Ω–µ —Ö–∞–π–ø ‚Äî —ç—Ç–æ –∏—Å—Ç–æ—Ä–∏—è.",
            "–°–∞—Å–∞–≤–æ—Ç ‚Äî —É–≤–∞–∂–∞—é. –ù–æ Slay 2025 –¥–æ–ª–∂–µ–Ω –∏–¥—Ç–∏ —Ç—É–¥–∞, –≥–¥–µ –∫–æ–Ω—Ç–µ–Ω—Ç –∂–∏–≤—ë—Ç. –ê —ç—Ç–æ —É 5opka.",
            "–Ø –≤—Å—ë –µ—â—ë —É–≤–∞–∂–∞—é –ì–ª–µ–±–∞, –Ω–æ —Ñ–∞–∫—Ç –æ—Å—Ç–∞—ë—Ç—Å—è —Ñ–∞–∫—Ç–æ–º ‚Äî –ü—è—Ç—ë—Ä–∫–∞ —Å–¥–µ–ª–∞–ª –≥–æ–¥ –∏ –∑–∞—Å–ª—É–∂–∏–ª –Ω–∞–≥—Ä–∞–¥—É –ø–æ –ø–æ–ª–Ω–æ–π."
          ];
          
          

          const hashtags = [
            "#SlayKing2025",
            "#5opka",
            "#–ü—è—Ç—ë—Ä–∫–∞–í–ü—Ä–∞–π–º–µ",
            "#–ó–∞–ë–æ—Å—Å–∞",
            "#–§—É–≥–æ–±–æ—Ç—ã",
            "#42–ë—Ä–∞—Ç—É—Ö–∏",
            "#Slay2025",
            "#–ü—è—Ç—ë—Ä–∫–∞–ó–∞—Ç–∞—â–∏–ª",
            "#–ì–ª–µ–±–£–≤–∞–∂–∞–µ–º–ù–æ–ü—è—Ç—ë—Ä–∫–∞–¢–∞—â–∏—Ç",
            "#SasavotRespect",
            "#–ü—è—Ç—ë—Ä–∫–∞–ö–æ–Ω—Ç–µ–Ω—Ç–ì–æ–¥–∞",
            "#–ë–æ—Å—Å–¢–≤–∏—á–∞",
            "#–ö–æ–Ω—Ç–µ–Ω—Ç–†–µ—à–∞–µ—Ç",
            "#–û–Ω–ª–∞–π–Ω–ù–µ–ì–ª–∞–≤–Ω–æ–µ",
            "#SlayKing–ü–æ–î–µ–ª—É",
            "#–§—Ä–∏–∫–ª–µ–Ω–¥–õ–µ–≥–µ–Ω–¥–∞",
            "#–ü—è—Ç—ë—Ä–∫–∞–ù–∞–≤—Å–µ–≥–¥–∞",
            "#–¢–æ–ø–ª—é–ó–∞–ë–æ—Å—Å–∞",
            "#5opka–í–ò—Å—Ç–æ—Ä–∏–∏",
            "#–¢–≤–∏—á–ù–∞—à–î–æ–º",
            "#–ì–ª–µ–±–ë—ã–ª–ù–æ–¢–µ–ø–µ—Ä—å5opka",
            "#–ú–µ–¥–∏–∞–ë–æ—Å—Å",
            "#–ü—è—Ç—ë—Ä–∫–∞–ì–µ–Ω–∏–π",
            "#–ö–æ–Ω—Ç–µ–Ω—Ç2025",
            "#5opka–ü–æ–±–µ–¥–∞",
            "#42–ù–∞–≤—Å–µ–≥–¥–∞",
            "#–ú—ã–°–ë–æ—Å—Å–æ–º",
            "#–°–ª–∞–≤–∞–§—É–≥–æ–±–æ—Ç–∞–º",
            "#Slay–ë–ª–∏–∑–∫–æ",
            "#–ë–æ—Å—Å–í–ü—Ä–∞–π–º–µ",
            "#–°–∞—Å–∞–≤–æ—Ç–ù–µ–¢–æ—Ç",
            "#–ì–ª–µ–±–£–≤–∞–∂–µ–Ω–∏–µ",
            "#5opka–≠—Ç–æ–≠–ø–æ—Ö–∞",
            "#SlayLegend",
            "#–ó–∞–ö–æ–Ω—Ç–µ–Ω—Ç",
            "#–ü—è—Ç—ë—Ä–∫–∞–õ–∞–π–≤",
            "#–ë–æ—Å—Å–ì–æ–¥–∞",
            "#SlayKingByRight",
            "#SlayArmy",
            "#–ü—è—Ç—ë—Ä–∫–∞–î–µ–ª–∞–µ—Ç–ò—Å—Ç–æ—Ä–∏—é",
            "#–ë–æ—Å—Å–í–ü–æ—Ç–æ–∫–µ",
            "#–ü—è—Ç—ë—Ä–∫–∞–°–∏–º–≤–æ–ª",
            "#Slay–ë–µ–∑–°–æ–º–Ω–µ–Ω–∏–π"
          ];
          

          const randomPhoto = photos[Math.floor(Math.random() * photos.length)];
          const hashtaId = Math.floor(Math.random() * hashtags.length);
          const randomComment =
            comments[Math.floor(Math.random() * comments.length)];

          await client.sendMessage(commentGroupId.chat, {
            file: randomPhoto,
            message: `<blockquote><b>${randomComment}</b></blockquote>\n ${
              hashtags[hashtaId]
            } ${hashtags[hashtaId > hashtags.length - 2 ? 0 : hashtaId + 1]} ${
              hashtags[hashtaId > hashtags.length - 3 ? 0 : hashtaId + 2]
            }`,
            parseMode: "html",
            replyTo: message.id,
          });

          console.log("‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω:");
        }
      }, new NewMessage({ chats: [commentGroupId.chat] }));
    }
    app.get("/sleep", async (req, res) => {
      res.send({ type: 200 });
    });
  } catch (err) {
    console.error("‚ùå –ù–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞:", err);
    process.exit(1);
  }
}
startApp();

app.listen(3001, (err) => {
  err ? err : console.log("STARTED SERVER");
});
